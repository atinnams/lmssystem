<txnmgr-lms class="org.jpos.transaction.TransactionManager" logger="Q2">
 <property name="queue"            value="TXNMGRTEST" />
 <property name="sessions"         value="5" />
 <property name="persistent-space" value="jdbm:txnmgrtest" />
 <property name="debug"            value="true" />
 <property name="retry-interval"   value="250" />
 <property name="pause-timeout"   value="2000" />
  
 <participant class="org.hcmus.lms.Switch" logger="Q2">
  
        <property name="407000" value="AddPoint"/> 
        <property name="417000" value="SubtractPoint"/>
        <property name="427000" value="BalanceInquiry"/>
        <property name="447000" value="Redemption"/>
        <property name="457000" value="Activation"/>
        <property name="000000" value="ErrorFlow"/>
        
</participant> 
 
 <group name="AddPoint">
 	<participant class="org.hcmus.myparticipant.CheckField" logger="Q2" >
 		<property name="fields" value="3,4,35,41,42" /> 
 	</participant>
 
	 <participant class="org.hcmus.myparticipant.Open" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.CheckCard" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckMerchant" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.AddPoint" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.MakeAdvertisementMessage" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.SendResponse" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.Close" logger="Q2"></participant>
	 
 </group> 
 
 <group name="SubtractPoint">
	 <participant class="org.hcmus.myparticipant.CheckField" logger="Q2" >
 		<property name="fields" value="3,4,11,12,13,25,35,41,42" /> 
 	 </participant>
 
	 <participant class="org.hcmus.myparticipant.Open" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.CheckCard" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckMerchant" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckPoSCC" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.SubtractPoint" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.SendResponse" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.Close" logger="Q2"></participant>
 </group> 
 
<group name="ErrorFlow">
	 <participant class="org.hcmus.myparticipant.CheckForward" logger="Q2" ></participant>
	 <participant class="org.hcmus.myparticipant.SendResponse" logger="Q2"></participant>
 </group> 
 
 <group name="BalanceInquiry">
 	 <participant class="org.hcmus.myparticipant.CheckField" logger="Q2" >
 		<property name="fields" value="3,11,12,13,25,35,41,42" /> 
 	 </participant>
 
	 <participant class="org.hcmus.myparticipant.Open" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.CheckCard" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckMerchant" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckPoSCC" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.BalanceInquiry" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.SendResponse" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.Close" logger="Q2"></participant>
 </group>
  
 <group name="Activation">
 	 <participant class="org.hcmus.myparticipant.CheckField" logger="Q2" >
 		<property name="fields" value="3,11,12,13,25,35,41,42" /> 
 	 </participant>
 
	 <participant class="org.hcmus.myparticipant.Open" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.CheckMerchant" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckPoSCC" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckActivatedCard" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.ActivatedCard" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.SendActivationResponse" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.Close" logger="Q2"></participant>
 </group>
 
  
 <group name="Redemption">
 	<participant class="org.hcmus.myparticipant.CheckField" logger="Q2" >
 		<property name="fields" value="3,4,11,12,13,25,35,41,42" /> 
 	</participant>
 
	 <participant class="org.hcmus.myparticipant.Open" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.CheckCard" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckMerchant" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckPoSCC" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.CheckGiftPoint" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.Redemption" logger="Q2" > </participant>
	 <participant class="org.hcmus.myparticipant.SendRedemptionResponse" logger="Q2"></participant>
	 <participant class="org.hcmus.myparticipant.Close" logger="Q2"></participant>
 </group> 
 
 
</txnmgr-lms>

